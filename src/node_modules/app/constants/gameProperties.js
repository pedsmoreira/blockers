// @flow

export const ROWS: number = 20;
export const COLS: number = 12;
export const DELAY: number = 1100;
export const DELAY_AMOUNT: number = 100;
export const CLEAR_SCORES: number[] = [40, 100, 300, 1200];

const log5 = Math.log(5);

export const DIFFICULTY_FORMULA: Function = (linesCleared: number): number => {
    return Math.min(10, Math.floor(linesCleared === 0 ? 0 : Math.log(linesCleared) / log5));
};

export const DELAY_FORMULA: Function = (difficulty: number): number => {
    return Math.max(100, DELAY - difficulty * DELAY_AMOUNT);
};

export const SCORE_FORMULA: Function = (rows: number, difficulty: number, combo: number): number => {
    return CLEAR_SCORES[rows - 1] * (combo + 1) * (difficulty + 1);
};
