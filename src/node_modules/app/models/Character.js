// @flow

import {computed, observable} from "mobx";
import Spell from "app/models/Spell";
import * as formulas from "app/constants/formulas";

export default class Character {
    static title: string;
    static slug: string;
    static description: string;
    static spellClasses: Function[] = [];
    static portrait: string;
    static splash: string;
    static stage: Function;

    @observable experience: number = 0;
    @observable mana: number;
    @observable spells: Spell[] = [];

    constructor() {
        this.spells = this.constructor.spellClasses.map((spell) => new spell());
        this.mana = this.maxMana;
    }

    @computed get level(): number {
        return formulas.level(this.experience);
    }

    @computed get maxMana(): number {
        return this.level * 6 + 100;
    }
}
