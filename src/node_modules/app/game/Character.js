import {computed, observable} from "mobx";

import Spell from "app/game/Spell";
import Stage from "app/game/Stage";

export default class Character {
    static title: string;
    static slug: string;
    static description: string;

    @observable experience: number = 0;
    @observable mana: number;

    static spellClasses: Function[] = [];
    @observable spells: Spell[] = [];

    static portrait: string;
    static splash: string;

    static stage: Stage;

    constructor() {
        this.spells = this.constructor.spellClasses.map((spell) => new spell());
        this.mana = this.maxMana;
    }

    @computed get level(): number {
        return this.experience / 10 + 1;
    }

    @computed get maxMana(): number {
        return (this.level - 1) * 6 + 100;
    }
}
