// @flow

import SparePieceEffect from "app/game/effects/SparePiece/SparePieceEffect";

import GameStore from "app/stores/GameStore";

import Spell from "app/models/Spell";
import Piece from "app/models/Piece";

import icon from "./batarang-icon.png"

export default class BatarangSpell extends Spell {
    static title = 'Batarang';
    static castDescription = 'Alternate the current and spare pieces';

    static castable = true;
    static cooldowns = [30];
    static costs = [30];

    static icon = icon;

    piece: Piece;
    sparePieceEffect: SparePieceEffect = new SparePieceEffect();

    constructor() {
        super();
        GameStore.addEffect(this.sparePieceEffect);
    }

    cast() {
        const oldPiece = this.piece;
        this.piece = GameStore.piece;
        this.sparePieceEffect.setPiece(this.piece);

        GameStore.setPiece(oldPiece);
    }
}
