// @flow

import {observer} from "mobx-react";
import React from "react";

import GameStore from "app/stores/GameStore";
import SceneStore from "app/stores/SceneStore";

import PlaygroundContainer from "app/containers/PlaygroundContainer";
import CharacterMenuContainer from "app/containers/CharacterMenuContainer";
import StageMenuContainer from "app/containers//StageMenuContainer";
import ScoreMenuContainer from "app/containers/ScoreMenuContainer";
import SpellsMenuContainer from "app/containers/SpellsMenuContainer";
import DifficultyMenuContainer from "app/containers/DifficultyMenuContainer";

import music from "app/assets/sounds/game.mp3";
import "./GameScene.scss";

@observer
export default class GameScene extends React.PureComponent {
    componentWillMount() {
        SceneStore.setBackground(GameStore.stageClass.background);
        SceneStore.setMusic(music);
        GameStore.play();
    }

    render() {
        return (
            <div className="GameScene">
                <div className="container">
                    <div className="GameScene-mainMenu">
                        <CharacterMenuContainer/>
                        <SpellsMenuContainer/>
                    </div>

                    <div className="GameScene-playingField">
                        <PlaygroundContainer/>
                    </div>

                    <div className="GameScene-secondaryMenu">
                        <DifficultyMenuContainer/>
                        <ScoreMenuContainer/>
                        <StageMenuContainer/>
                    </div>
                </div>
            </div>
        )
    }
}
