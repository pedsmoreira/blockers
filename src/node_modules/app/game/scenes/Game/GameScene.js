import {observer} from "mobx-react";
import React from "react";

import GameStore from "app/stores/GameStore";

import Playground from "app/components/Game/Playground/Playground";
import GameMenu from "app/components/Game/GameMenu/GameMenu";

import "./GameScene.scss";

@observer
export default class GameScene extends React.PureComponent {
    componentWillMount() {
        GameStore.play();
    }

    render() {
        return (
            <div className="game-scene">
                <div className="playing-field">
                    <Playground matrix={GameStore.matrix}
                                piece={GameStore.piece}
                                piecePosition={GameStore.piecePosition}/>

                    <div style={{position: 'absolute'}}>
                        <div>X: {GameStore.piecePosition.x}</div>
                        <div>Y: {GameStore.piecePosition.y}</div>
                    </div>

                    <GameMenu character={GameStore.character} level={GameStore.level}/>
                </div>
            </div>
        )
    }
}
