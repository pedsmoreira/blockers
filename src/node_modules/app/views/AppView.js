// @flow

import {useStrict} from "mobx";
import {observer} from "mobx-react";
import React, {Component} from "react";
import SceneStore from "app/stores/SceneStore";
import Header from "app/components/Header/Header";
import Footer from "app/components/Footer/Footer";
import SceneDirector from "app/components/SceneDirector/SceneDirector";
import "./AppView.scss";

// Enable strict mode
useStrict(true);

@observer
export default class AppView extends Component {
    render() {
        const style = {
            backgroundImage: [
                'linear-gradient(rgba(0, 0, 0, .85), rgba(0, 0, 0, .75))',
                SceneStore.background ? `url("${SceneStore.background}")` : null
            ].join(', ')
        };

        return (
            <div className='AppView' style={style}>
                <audio src={SceneStore.music} autoPlay={true} loop={true}/>

                <Header/>
                <SceneDirector scene={SceneStore.scene}/>
                <Footer/>
            </div>
        )
    }
}
