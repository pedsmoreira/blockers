// @flow

import React from "react";
import SpellModel from "app/models/Spell";
import "./Spell.scss";

export default class Spell extends React.PureComponent {
    props: {
        spell: SpellModel,
        castKey?: string
    };

    render() {
        const spell = this.props.spell.constructor;

        return (
            <div className="Spell">
                <button type="button" className="Spell-icon">
                    <img src={spell.icon} alt={`${spell.title} spell icon`}/>
                </button>

                {this.renderCastKey()}

                <div className="Spell-popover">
                    <div className="Spell-title">{spell.title}</div>

                    {!spell.passiveDescription ? null :
                        <div className="Spell-passiveDescription">{spell.passiveDescription}</div>
                    }

                    {!spell.castDescription ? null :
                        <div className="Spell-castDescription">{spell.castDescription}</div>
                    }
                </div>
            </div>
        )
    }

    renderCastKey() {
        const castKey = this.props.castKey;
        if (!castKey) return null;

        return (
            <div className="Spell-key">{castKey}</div>
        );
    }
};
