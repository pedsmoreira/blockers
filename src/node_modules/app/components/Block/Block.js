// @flow

import {observer} from "mobx-react";
import React from "react";
import BlockModel from "app/models/Block";
import "./Block.scss";

@observer
export default class Block extends React.PureComponent {
    props: {
        block: BlockModel,
        blockSize: number,
        x?: number,
        y?: number
    };

    render() {
        const blockSize = this.props.blockSize;

        let style: any = {
            width: blockSize,
            height: blockSize,
            left: (this.props.x || 0) * blockSize,
            top: (this.props.y || 0) * blockSize,
        };

        const character = this.props.block.character;
        const className = [
            'Block',
            character ? 'Block--' + character.constructor.slug : ''
        ];

        return (
            <div className={className.join(' ')} style={style}>
                <div className="Block-fill" style={{backgroundColor: this.props.block.color}}/>
            </div>
        );
    }
}
